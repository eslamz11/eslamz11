@use "tailwindcss";

/* Dark Mode (Default) */
:root {
  --foreground-rgb: 255, 255, 255;
  --background-primary: #0d1224;
  --background-secondary: #1a1443;
  --background-tertiary: #0a0d37;
  --text-primary: #ffffff;
  --text-secondary: #d3d8e8;
  --text-muted: #9ca3af;
  --border-color: #1b2c68a0;
  --accent-primary: #16f2b3;
  --accent-secondary: #a855f7;
  --card-background: rgba(26, 20, 67, 0.5);
  --card-border: rgba(27, 44, 104, 0.6);
  --shadow-color: rgba(22, 242, 179, 0.1);
}

/* Light Mode */
html.light {
  --foreground-rgb: 17, 24, 39;
  --background-primary: #f8fafc;
  --background-secondary: #ffffff;
  --background-tertiary: #f1f5f9;
  --text-primary: #0f172a;
  --text-secondary: #334155;
  --text-muted: #64748b;
  --border-color: #e2e8f0;
  --accent-primary: #16f2b3;
  --accent-secondary: #a855f7;
  --card-background: rgba(255, 255, 255, 0.8);
  --card-border: rgba(226, 232, 240, 0.8);
  --shadow-color: rgba(22, 242, 179, 0.15);
}

html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

body {
  color: var(--text-primary);
  background-color: var(--background-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  overscroll-behavior-y: contain;
}

/* Optimize touch interactions on mobile */
@media (max-width: 1024px) {
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  a, button {
    touch-action: manipulation;
  }
  
  /* Optimize scrolling containers */
  .overflow-hidden,
  .overflow-y-auto,
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* Theme Image - Grayscale in dark mode, colored in light mode */
.theme-image {
  filter: grayscale(100%);
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  position: relative;
}

.theme-image:hover {
  filter: grayscale(0%) brightness(1.05) contrast(1.05);
  transform: scale(1.08) translateY(-5px);
  box-shadow: 0 20px 50px rgba(22, 242, 179, 0.3), 
              0 0 30px rgba(168, 85, 247, 0.2);
}

html.light .theme-image {
  filter: grayscale(0%);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

html.light .theme-image:hover {
  filter: grayscale(0%) brightness(1.08) saturate(1.1);
  transform: scale(1.08) translateY(-5px);
  box-shadow: 0 20px 50px rgba(22, 242, 179, 0.4), 
              0 0 40px rgba(168, 85, 247, 0.25);
}

/* Animation for fade in */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out forwards;
  opacity: 0;
}

/* Reverse spin animation for translation loader */
@keyframes spin-reverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

.animate-spin-reverse {
  animation: spin-reverse 1s linear infinite;
}

/* Premium Card Animations */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes shine {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

@keyframes gradient-x {
  0%, 100% {
    background-position: 0% 50%;
    background-size: 200% 100%;
  }
  50% {
    background-position: 100% 50%;
    background-size: 200% 100%;
  }
}

@keyframes gradient-y {
  0%, 100% {
    background-position: 50% 0%;
    background-size: 100% 200%;
  }
  50% {
    background-position: 50% 100%;
    background-size: 100% 200%;
  }
}

@keyframes bounce-slow {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.05);
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

.animate-shine {
  animation: shine 3s infinite;
}

.animate-gradient-x {
  animation: gradient-x 3s ease infinite;
}

.animate-gradient-y {
  animation: gradient-y 3s ease infinite;
}

.animate-bounce-slow {
  animation: bounce-slow 2s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

.animate-pulse-slow {
  animation: pulse-slow 3s ease-in-out infinite;
}

/* WhatsApp Button Animations */
@keyframes scale-in {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes float-1 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 1;
  }
  50% {
    transform: translateY(-20px) translateX(-5px);
    opacity: 0.5;
  }
}

@keyframes float-2 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 1;
  }
  50% {
    transform: translateY(-15px) translateX(5px);
    opacity: 0.6;
  }
}

@keyframes float-3 {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 1;
  }
  50% {
    transform: translateY(-18px) translateX(-3px);
    opacity: 0.4;
  }
}

.animate-scale-in {
  animation: scale-in 0.4s ease-out forwards;
}

.animate-float-1 {
  animation: float-1 3s ease-in-out infinite;
}

.animate-float-2 {
  animation: float-2 2.5s ease-in-out infinite;
  animation-delay: 0.3s;
}

.animate-float-3 {
  animation: float-3 2.8s ease-in-out infinite;
  animation-delay: 0.6s;
}

/* RTL Support - Minimal & Non-breaking */
/* Only apply text-align changes, don't mess with flex layouts */
[dir="rtl"] p,
[dir="rtl"] span:not(.preserve-ltr),
[dir="rtl"] h1,
[dir="rtl"] h2,
[dir="rtl"] h3,
[dir="rtl"] label {
  text-align: right;
}

/* Keep centered elements centered */
[dir="rtl"] .text-center {
  text-align: center !important;
}

/* Keep left-aligned elements where needed */
[dir="rtl"] .text-left {
  text-align: left !important;
}

/* Force center alignment for hero sections in both LTR and RTL */
[dir="rtl"] .text-center h1,
[dir="rtl"] .text-center p,
[dir="rtl"] .text-center span {
  text-align: center !important;
}

/* Ensure hero description text is centered */
.hero-description,
[dir="rtl"] .hero-description {
  text-align: center !important;
}

/* Code blocks must always be LTR - programming languages are not RTL */
[dir="rtl"] code,
[dir="rtl"] pre,
[dir="rtl"] code *,
[dir="rtl"] pre * {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: embed !important;
}

/* Keep code card container also LTR */
[dir="rtl"] .order-1.lg\:order-2 {
  direction: ltr !important;
}

/* Blink animation for code */
@keyframes blink {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.blink {
  animation: blink 1s infinite;
}

/* 3D Code Box Animations */
@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 
      0 20px 60px rgba(0, 0, 0, 0.5),
      0 10px 30px rgba(22, 242, 179, 0.1),
      0 5px 15px rgba(168, 85, 247, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2);
  }
  50% {
    box-shadow: 
      0 25px 70px rgba(0, 0, 0, 0.6),
      0 15px 40px rgba(22, 242, 179, 0.2),
      0 8px 20px rgba(168, 85, 247, 0.25),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      inset 0 -1px 0 rgba(0, 0, 0, 0.3);
  }
}

@keyframes float-3d {
  0%, 100% {
    transform: perspective(1000px) rotateX(2deg) rotateY(-2deg) translateY(0);
  }
  50% {
    transform: perspective(1000px) rotateX(2deg) rotateY(-2deg) translateY(-5px);
  }
}

@keyframes button-glow {
  0%, 100% {
    box-shadow: 0 2px 8px rgba(248, 113, 113, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  50% {
    box-shadow: 0 3px 12px rgba(248, 113, 113, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.4);
  }
}

.code-box-3d {
  animation: glow-pulse 4s ease-in-out infinite, float-3d 6s ease-in-out infinite;
  will-change: transform, box-shadow;
  
  &:hover {
    animation-play-state: paused;
    box-shadow: 
      0 30px 80px rgba(0, 0, 0, 0.7),
      0 20px 50px rgba(22, 242, 179, 0.25),
      0 10px 25px rgba(168, 85, 247, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.2),
      inset 0 -1px 0 rgba(0, 0, 0, 0.3),
      0 0 60px rgba(22, 242, 179, 0.15);
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(-8px) scale(1.02) !important;
  }
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background: linear-gradient(135deg, 
      rgba(22, 242, 179, 0.05) 0%,
      transparent 50%,
      rgba(168, 85, 247, 0.05) 100%
    );
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
    z-index: 1;
  }
  
  &:hover::before {
    opacity: 1;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: inherit;
    background: linear-gradient(45deg, 
      rgba(22, 242, 179, 0.1),
      rgba(168, 85, 247, 0.1),
      rgba(236, 72, 153, 0.1)
    );
    background-size: 200% 200%;
    animation: gradient-rotate 3s linear infinite;
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: -1;
  }
  
  &:hover::after {
    opacity: 1;
  }
}

@keyframes gradient-rotate {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.window-button {
  transition: all 0.3s ease;
  cursor: pointer;
  
  &:hover {
    transform: scale(1.15);
    filter: brightness(1.2);
  }
  
  &:active {
    transform: scale(0.95);
  }
}

/* Light Mode 3D Enhancements */
html.light .code-box-3d {
  @keyframes glow-pulse-light {
    0%, 100% {
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.15),
        0 10px 30px rgba(22, 242, 179, 0.2),
        0 5px 15px rgba(168, 85, 247, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.8),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    }
    50% {
      box-shadow: 
        0 25px 70px rgba(0, 0, 0, 0.2),
        0 15px 40px rgba(22, 242, 179, 0.3),
        0 8px 20px rgba(168, 85, 247, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.9),
        inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    }
  }
  
  animation: glow-pulse-light 4s ease-in-out infinite, float-3d 6s ease-in-out infinite;
  
  &:hover {
    box-shadow: 
      0 30px 80px rgba(0, 0, 0, 0.25),
      0 20px 50px rgba(22, 242, 179, 0.35),
      0 10px 25px rgba(168, 85, 247, 0.35),
      inset 0 1px 0 rgba(255, 255, 255, 1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2),
      0 0 60px rgba(22, 242, 179, 0.25);
  }
}

/* Line clamp utility */
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

#sticky-card-1 {
  --index: 1;
}

#sticky-card-2 {
  --index: 2;
}

#sticky-card-3 {
  --index: 3;
}

#sticky-card-4 {
  --index: 4;
}

.sticky-card {
  // padding-top: calc(var(--index) * 2.5rem);
  top: calc(var(--index) * 4rem);
}

/* Reduced Motion Support - Accessibility & Performance */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .code-box-3d {
    animation: none !important;
    transform: none !important;
  }
  
  .animate-shimmer,
  .animate-shine,
  .animate-gradient-x,
  .animate-gradient-y,
  .animate-bounce-slow,
  .animate-spin-slow,
  .animate-pulse-slow,
  .animate-float-1,
  .animate-float-2,
  .animate-float-3 {
    animation: none !important;
  }
}

/* Mobile Performance Optimizations */
@media (max-width: 768px) {
  /* Reduce animation complexity on mobile */
  .code-box-3d {
    animation: glow-pulse 6s ease-in-out infinite;
    will-change: auto;
    
    &:hover {
      animation-play-state: running;
    }
  }
  
  /* Simplify blur effects on mobile for better performance */
  .blur-3xl {
    filter: blur(40px);
  }
  
  .blur-2xl {
    filter: blur(30px);
  }
  
  /* Reduce shadow complexity on mobile */
  .shadow-2xl,
  .shadow-xl {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }
  
  /* Optimize backdrop-blur for mobile */
  .backdrop-blur-md,
  .backdrop-blur-xl,
  .backdrop-blur-2xl {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

/* GPU Acceleration for animations */
.animate-fadeIn,
.animate-scale-in,
.animate-shimmer,
.animate-shine {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimize hover interactions on touch devices */
@media (hover: none) and (pointer: coarse) {
  /* Disable transform scale on touch devices for better performance */
  * {
    transition-duration: 0.1s !important;
  }
}
